(this.webpackJsonpfavourama=this.webpackJsonpfavourama||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(6),r=Object(a.b)({name:"displayFilters",initialState:{showFavs:!0,showUnfavs:!0},reducers:{toggleShowFavs:function(e,t){e.showFavs=!e.showFavs},toggleShowUnfavs:function(e,t){e.showUnfavs=!e.showUnfavs}}});var s=r.actions,i=s.toggleShowFavs,o=s.toggleShowUnfavs;t.a=r.reducer},18:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(6),r=n(39),s=Object(a.b)({name:"favouriteEpisodes",initialState:{favouriteEpisodes:[]},reducers:{toggleFav:function(e,t){e.favouriteEpisodes=Object(r.xor)(e.favouriteEpisodes,[t.payload]),e.favouriteEpisodes.sort()}}});var i=s.actions.toggleFav;t.a=s.reducer},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n(1),r=n.n(a),s=n(5),i=n(6),o=n(37).a.create({prefixUrl:"http://api.tvmaze.com/shows/538"});function c(){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.get("episodes").json());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=Object(i.b)({name:"episodes",initialState:{episodesById:{},isLoading:!1,error:null},reducers:{getEpisodesStart:function(e){e.isLoading=!0},getEpisodesSuccess:function(e,t){var n=t.payload;e.isLoading=!1,e.error=null,n.forEach((function(t){e.episodesById[t.id]=t}))},getEpisodesFailure:function(e,t){e.isLoading=!1,e.error=t.payload}}});var d=function(){return function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m()),e.next=4,c();case 4:n=e.sent,t(p(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(v(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},f=l.actions,m=f.getEpisodesStart,p=f.getEpisodesSuccess,v=f.getEpisodesFailure;t.a=l.reducer},40:function(e,t,n){e.exports=n(66)},60:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(3),i={header:"\n    pt3\n    ph4\n    pb1\n    mb1\n    sans-serif\n    br4\n    br--bottom\n  "},o=function(){return r.a.createElement("header",{className:i.header},r.a.createElement("h1",{className:"lh-solid mv0 tracked-tight bold dark-gray"},"Favourama"),r.a.createElement("p",{className:"mv1 silver"},"Favourite futurama episodes"))},c=n(26),u=n(2),l=function(e){return e.displayFilters},d=function(e){return e.episodes.isLoading},f=function(e){return e.favouriteEpisodes.favouriteEpisodes},m=Object(u.a)([function(e){return e.episodes.episodesById},function(e){return Object.keys(e.episodes.episodesById).map((function(e){return parseInt(e,10)}))},f,l],(function(e,t,n,a){var r=a.showFavs,s=a.showUnfavs;return Object(c.isEmpty)(t)?[]:s||r?!s&&r?n.map((function(t){return e[t]})):s&&!r?Object(c.difference)(t,n).map((function(t){return e[t]})):t.map((function(t){return e[t]})):[]})),p=n(18),v={heart:"\n    mh-auto\n    w-80\n    pointer\n    grow\n  "},b=function(e){return e.solid?r.a.createElement("svg",{"aria-label":"Unlike",className:v.heart,fill:"#ed4956",viewBox:"0 0 48 48"},r.a.createElement("path",{clipRule:"evenodd",d:"M35.3 35.6c-9.2 8.2-9.8 8.9-11.3 8.9s-2.1-.7-11.3-8.9C6.5 30.1.5 25.6.5 17.8.5 9.9 6.4 3.5 13.7 3.5 20.8 3.5 24 8.8 24 8.8s3.2-5.3 10.3-5.3c7.3 0 13.2 6.4 13.2 14.3 0 7.8-6.1 12.3-12.2 17.8z",fillRule:"evenodd"})):r.a.createElement("svg",{"aria-label":"Like",className:v.heart,viewBox:"0 0 48 48",fill:"gray"},r.a.createElement("path",{clipRule:"evenodd",d:"M34.3 3.5C27.2 3.5 24 8.8 24 8.8s-3.2-5.3-10.3-5.3C6.4 3.5.5 9.9.5 17.8s6.1 12.4 12.2 17.8c9.2 8.2 9.8 8.9 11.3 8.9s2.1-.7 11.3-8.9c6.2-5.5 12.2-10 12.2-17.8 0-7.9-5.9-14.3-13.2-14.3zm-1 29.8c-5.4 4.8-8.3 7.5-9.3 8.1-1-.7-4.6-3.9-9.3-8.1-5.5-4.9-11.2-9-11.2-15.6 0-6.2 4.6-11.3 10.2-11.3 4.1 0 6.3 2 7.9 4.2 3.6 5.1 1.2 5.1 4.8 0 1.6-2.2 3.8-4.2 7.9-4.2 5.6 0 10.2 5.1 10.2 11.3 0 6.7-5.7 10.8-11.2 15.6z",fillRule:"evenodd"}))},h=function(e){return r.a.createElement("div",{className:"w-100 aspect-ratio aspect-ratio--16x9 bg-light-gray black-50"},r.a.createElement("img",{className:"aspect-ratio--object",src:e.src,alt:e.alt}))},E={card:"\n    pa1\n    w-100\n    w-50-m\n    w-25-ns\n    mb2\n",innerCard:"\n    flex\n    flex-wrap\n    pa2\n    ba\n    b--light-gray\n    shadow-hover\n  ",episodeList:"\n    flex\n    flex-wrap\n    w-100\n    pa3\n  ",meta:"\n    mt2\n    w-90\n  ",title:"\n    f4\n    fw4\n    mv1\n  ",episodeNumber:"\n    f5\n    fw4\n    mt0\n  ",like:"\n   w-10 \n   mt3\n   flex\n   items-end\n  ",noEpisodes:"\n    center\n    f3\n    pt6\n    silver\n  "},g=function(e){return e.items.length>0?r.a.createElement("section",{className:E.episodeList}," ",e.items.map((function(t){return r.a.createElement("article",{className:E.card,key:t.id},r.a.createElement("div",{className:E.innerCard},r.a.createElement(h,{src:t.image.medium,alt:"Futurama - ".concat(t.name)}),r.a.createElement("div",{className:E.meta},r.a.createElement("h1",{className:E.title},t.name),r.a.createElement("h2",{className:E.episodeNumber},"S".concat(t.season,"E").concat(t.number))),r.a.createElement("div",{className:E.like},r.a.createElement("span",{onClick:function(){e.onFav(t.id)}},r.a.createElement(b,{solid:e.isFav(t.id)})))))}))):r.a.createElement("section",{className:E.episodeList},r.a.createElement("p",{className:E.noEpisodes},"No episodes matching your filter(s)"))},w=function(){var e=Object(s.b)(),t=Object(s.c)(m),n=Object(s.c)(f);return Object(s.c)(d)?r.a.createElement("p",null,"Loading ..."):r.a.createElement(g,{items:t,onFav:function(t){e(Object(p.b)(parseInt(t,10)))},isFav:function(e){return n.includes(e)}})},j=n(12),y={filterButton:function(e){var t=e.active;return"\n    f6\n    link\n    dim\n    br2\n    ba\n    ph2\n    pv2\n    mb2\n    ml2\n    dib\n    pointer:hover\n    ".concat(t?"white":"orange","\n    ").concat(t?"bg-orange":"bg-white","\n  ")}},N=function(){var e=Object(s.b)(),t=Object(s.c)(l),n=t.showFavs,a=t.showUnfavs;return r.a.createElement("section",{className:"tr mt3 ph4"},r.a.createElement("span",{className:"f6 ttu silver"},"show: "),r.a.createElement("button",{className:y.filterButton({active:n}),onClick:function(t){return e(Object(j.b)())}},"favs"),r.a.createElement("button",{className:y.filterButton({active:a}),onClick:function(t){return e(Object(j.c)())}},"unfavs"))},O=n(19);t.default=function(){var e=Object(s.b)();return Object(a.useEffect)((function(){e(Object(O.b)())}),[e]),r.a.createElement("div",{className:"sans-serif"},r.a.createElement(o,null),r.a.createElement(N,null),r.a.createElement(w,null))}},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(15),i=n.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(3),c=n(6),u=n(36),l=n.n(u),d=n(4),f=n(19),m=n(18),p=n(12),v=Object(d.c)({displayFilters:p.a,episodes:f.a,favouriteEpisodes:m.a}),b=Object(c.a)({reducer:v,preloadedState:function(){try{var e=window.localStorage.getItem("favourama-state");return e?JSON.parse(e):void 0}catch(t){return void console.error(t)}}()});b.subscribe(l()((function(){!function(e){try{window.localStorage.setItem("favourama-state",JSON.stringify(e))}catch(t){console.error(t)}}({episodes:b.getState().episodes,favouriteEpisodes:b.getState().favouriteEpisodes})}),1e3));var h=b;n(60);!function(){var e=n(65).default;i.a.render(r.a.createElement(o.a,{store:h},r.a.createElement(e,null)),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.8af5e775.chunk.js.map